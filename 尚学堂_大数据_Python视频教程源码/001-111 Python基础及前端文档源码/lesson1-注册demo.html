<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        .error {
            outline: 2px solid red;
        }

        .success {
            outline: 2px solid green;
        }

        .red {
            color: red;
        }

        .green {
            color: green;
        }

        #show {
            font-size: 30px;
            width: 100px;
            height: 61px;
            background: greenyellow;
            text-align: center;
            line-height: 61px;
            margin: 10px;
            border-radius: 5px;

        }
    </style>
</head>
<body>
<form action="">
    <label for="usename">用户名</label>
    <input type="text" id="usename">
    <span id="s1"></span>
    <br>
    <label for="password">密码</label>
    <input type="password" id="password">
    <span id="s2"></span>
    <br>
    <label for="qr">确认密码</label>
    <input type="password" id="qr">
    <span id="s3"></span>
    <br>
    <label for="yzm">验证码</label>
    <input type="text" id="yzm">
    <span id="s4"></span>
    <div id="show"></div>
    <input type="submit" id="tijiao">
</form>
<script>
    var usename = document.getElementById("usename");
    var password = document.getElementById("password");
    var qr = document.getElementById("qr");
    var yzm = document.getElementById("yzm");
    var show = document.getElementById("show");
    var tijiao = document.getElementById("tijiao");
    var s1 = document.getElementById("s1");
    var s2 = document.getElementById("s2");
    var s3 = document.getElementById("s3");
    var s4 = document.getElementById("s4");
    tijiao.disabled = "disabled";

    usename.onblur = function () {
//        console.log(usename.value);
        var tel = usename.value;
        /* if (/^(13|14|15|17|18)[0-9]{9}$/.test(tel)) {
         usename.className = 'success';
         s1.className = 'green';
         s1.innerHTML = "正确";
         }else {
         usename.className = 'error';
         s1.className = 'red';
         s1.innerHTML = "请输入正确的手机号";
         }*/
        if (tel.length == 11) {
            var arr = ['13', '14', '15', '17', '18'];
            if (arr.indexOf(tel.substr(0, 2)) > -1) {
                usename.className = 'success';
                s1.className = 'green';
                s1.innerHTML = "正确";
                puanduan();
            } else {
                usename.className = 'error';
                s1.className = 'red';
                s1.innerHTML = "请输入正确的手机号";
            }
        } else {
            usename.className = 'error';
            s1.className = 'red';
            s1.innerHTML = "请输入正确的手机号";
        }
    };

    password.onblur = function () {
        var mima = password.value;
        if (mima.length >= 6 && mima.length <= 12) {
            password.className = 'success';
            s2.className = 'green';
            s2.innerHTML = "正确";
            if (mima == qr.value) {
                qr.className = 'success';
                s3.className = 'green';
                s3.innerHTML = "正确";
                puanduan();
            }
            puanduan();
        } else {
            password.className = 'error';
            s2.className = 'red';
            s2.innerHTML = "请输入6到12位的密码";
        }

        /* if(mima==qr.value&&password.value!=""){
         qr.className = 'success';
         s3.className = 'green';
         s3.innerHTML = "正确";
         }else {
         qr.className = 'error';
         s3.className = 'red';
         s3.innerHTML = "2次密码不一致";
         }*/

    };
    qr.onblur = function () {
        var qrmm = qr.value;
        if (qrmm == password.value && password.value != "") {
            qr.className = 'success';
            s3.className = 'green';
            s3.innerHTML = "正确";
            puanduan();
        } else {
            qr.className = 'error';
            s3.className = 'red';
            s3.innerHTML = "2次密码不一致";
        }

    };

    show.onclick = function () {
//        var arr = [1,2,3,4,5,6,....."a",'b'..."A"]
        var str = '1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM';
        var jieguo = "";
        for (var i = 0; i < 4; i++) {
            var num = Math.floor(Math.random() * str.length);
            jieguo = jieguo + str[num];
        }
        show.innerHTML = jieguo;
//        sc();
    };
    /*function sc() {
     var str = '1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM';
     var jieguo = "";
     for(var i=0;i<4;i++){
     var num = Math.floor(Math.random()*str.length);
     jieguo = jieguo+str[num];
     }
     show.innerHTML = jieguo;
     }
     sc();*/

    /*var obj  = {
     getName:function () {
     console.log(111);
     }
     };
     obj.getName();*/
    show.onclick();

    yzm.onblur = function () {
        if (yzm.value.toLocaleUpperCase() == show.innerHTML.toLocaleUpperCase()) {
            yzm.className = 'success';
            s4.className = 'green';
            s4.innerHTML = "正确";
            /*if(s1.innerHTML=="正确"&&s2.innerHTML=="正确"&&s3.innerHTML=="正确"){
             tijiao.disabled = "";
             }*/
            puanduan();
        } else {
            yzm.className = 'error';
            s4.className = 'red';
            s4.innerHTML = "请输入正确的验证码";
        }
    };

    function puanduan() {
        if (s1.innerHTML == "正确" && s2.innerHTML == "正确" && s3.innerHTML == "正确" && s4.innerHTML == "正确") {
            tijiao.disabled = "";
        }
    }


    /*
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     *
     * */
</script>
</body>
</html>